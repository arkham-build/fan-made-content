{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "meta": {
      "type": "object",
      "properties": {
        "author": {
          "type": "string",
          "description": "Author of the project."
        },
        "banner_url": {
          "description": "URL to a banner image. Ideal dimensions: 1180x500.",
          "type": "string"
        },
        "banner_credit": {
          "description": "Credit for the banner image.",
          "type": "string"
        },
        "code": {
          "type": "string",
          "minLength": 3,
          "description": " Unique identifier for the project. a UUID when created by Zoop."
        },
        "date_updated": {
          "description": "Date when this content was last updated, as ISO 8601 datestamp.",
          "type": "string"
        },
        "description": {
          "description": "Detailed (Markdown) description for the project.",
          "type": "string"
        },
        "external_link": {
          "description": "URL to an external project page.",
          "anyOf": [
            {
              "type": "string",
              "format": "uri"
            },
            {
              "type": "string",
              "const": ""
            }
          ]
        },
        "generator": {
          "description": "User-agent of the tool that created this content pack",
          "type": "string"
        },
        "language": {
          "type": "string",
          "description": "Language of the project as ISO 639-1 language code."
        },
        "name": {
          "type": "string",
          "description": "Name of the project."
        },
        "status": {
          "description": "Project status. If not specified, project is assumed to be \"final\".",
          "type": "string",
          "enum": ["draft", "alpha", "beta", "complete", "final"]
        },
        "tags": {
          "description": "List of tags for the project. (English)",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "types": {
          "description": "List of content types that the project contains.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "campaign",
              "investigators",
              "player_cards",
              "rework",
              "scenario"
            ]
          }
        },
        "url": {
          "description": "URL to where the project (=this file) is hosted. Used to fetch updates. Null for local packs.",
          "type": "string",
          "format": "uri"
        }
      },
      "required": ["author", "code", "language", "name"],
      "additionalProperties": false
    },
    "data": {
      "type": "object",
      "properties": {
        "cards": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "alternate_of": {
                "type": "string"
              },
              "back_flavor": {
                "type": "string"
              },
              "back_illustrator": {
                "type": "string"
              },
              "back_link": {
                "type": "string"
              },
              "back_name": {
                "type": "string"
              },
              "back_text": {
                "type": "string"
              },
              "back_traits": {
                "type": "string"
              },
              "bonded_count": {
                "type": "number"
              },
              "bonded_to": {
                "type": "string"
              },
              "clues_fixed": {
                "type": "boolean"
              },
              "clues": {
                "type": "number"
              },
              "code": {
                "type": "string"
              },
              "cost": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "customization_change": {
                "type": "string"
              },
              "customization_options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "card": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "trait": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "choice": {
                      "type": "string",
                      "enum": [
                        "choose_card",
                        "choose_trait",
                        "remove_slot",
                        "choose_skill"
                      ]
                    },
                    "cost": {
                      "type": "number"
                    },
                    "deck_limit": {
                      "type": "number"
                    },
                    "health": {
                      "type": "number"
                    },
                    "position": {
                      "type": "number"
                    },
                    "quantity": {
                      "type": "number"
                    },
                    "real_slot": {
                      "type": "string"
                    },
                    "real_text": {
                      "type": "string"
                    },
                    "real_traits": {
                      "type": "string"
                    },
                    "sanity": {
                      "type": "number"
                    },
                    "tags": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "text_change": {
                      "type": "string",
                      "enum": ["append", "insert", "replace", "trait"]
                    },
                    "xp": {
                      "type": "number"
                    }
                  },
                  "required": ["text_change", "xp"],
                  "additionalProperties": false
                }
              },
              "customization_text": {
                "type": "string"
              },
              "deck_limit": {
                "type": "number"
              },
              "deck_options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "atleast": {
                      "type": "object",
                      "properties": {
                        "factions": {
                          "type": "number"
                        },
                        "min": {
                          "type": "number"
                        },
                        "types": {
                          "type": "number"
                        }
                      },
                      "required": ["min"],
                      "additionalProperties": false
                    },
                    "base_level": {
                      "type": "object",
                      "properties": {
                        "min": {
                          "type": "number"
                        },
                        "max": {
                          "type": "number"
                        }
                      },
                      "required": ["min", "max"],
                      "additionalProperties": false
                    },
                    "deck_size_select": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ]
                    },
                    "error": {
                      "type": "string"
                    },
                    "faction_select": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "faction": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "id": {
                      "type": "string"
                    },
                    "level": {
                      "type": "object",
                      "properties": {
                        "min": {
                          "type": "number"
                        },
                        "max": {
                          "type": "number"
                        }
                      },
                      "required": ["min", "max"],
                      "additionalProperties": false
                    },
                    "limit": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "not": {
                      "type": "boolean"
                    },
                    "option_select": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "level": {
                            "type": "object",
                            "properties": {
                              "min": {
                                "type": "number"
                              },
                              "max": {
                                "type": "number"
                              }
                            },
                            "required": ["min", "max"],
                            "additionalProperties": false
                          },
                          "name": {
                            "type": "string"
                          },
                          "size": {
                            "type": "number"
                          },
                          "trait": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "type": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": ["id", "level", "name"],
                        "additionalProperties": false
                      }
                    },
                    "permanent": {
                      "type": "boolean"
                    },
                    "slot": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "tag": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "text_exact": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "text": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "trait": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "type": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "uses": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "virtual": {
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "deck_requirements": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "doom": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "double_sided": {
                "type": "boolean"
              },
              "duplicate_of": {
                "type": "string"
              },
              "encounter_code": {
                "type": "string"
              },
              "encounter_position": {
                "type": "number"
              },
              "enemy_damage": {
                "type": "number"
              },
              "enemy_evade": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "enemy_fight": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "enemy_horror": {
                "type": "number"
              },
              "errata_date": {
                "type": "string"
              },
              "exceptional": {
                "type": "boolean"
              },
              "exile": {
                "type": "boolean"
              },
              "faction_code": {
                "type": "string",
                "enum": [
                  "guardian",
                  "seeker",
                  "rogue",
                  "mystic",
                  "survivor",
                  "neutral",
                  "mythos"
                ]
              },
              "faction2_code": {
                "type": "string",
                "enum": [
                  "guardian",
                  "seeker",
                  "rogue",
                  "mystic",
                  "survivor",
                  "neutral",
                  "mythos"
                ]
              },
              "faction3_code": {
                "type": "string",
                "enum": [
                  "guardian",
                  "seeker",
                  "rogue",
                  "mystic",
                  "survivor",
                  "neutral",
                  "mythos"
                ]
              },
              "flavor": {
                "type": "string"
              },
              "health_per_investigator": {
                "type": "boolean"
              },
              "health": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "hidden": {
                "type": "boolean"
              },
              "illustrator": {
                "type": "string"
              },
              "is_unique": {
                "type": "boolean"
              },
              "myriad": {
                "type": "boolean"
              },
              "name": {
                "type": "string"
              },
              "pack_code": {
                "type": "string"
              },
              "permanent": {
                "type": "boolean"
              },
              "position": {
                "type": "number"
              },
              "quantity": {
                "type": "number"
              },
              "restrictions": {
                "type": "string"
              },
              "sanity": {
                "type": "number"
              },
              "shroud": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "side_deck_options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "atleast": {
                      "type": "object",
                      "properties": {
                        "factions": {
                          "type": "number"
                        },
                        "min": {
                          "type": "number"
                        },
                        "types": {
                          "type": "number"
                        }
                      },
                      "required": ["min"],
                      "additionalProperties": false
                    },
                    "base_level": {
                      "type": "object",
                      "properties": {
                        "min": {
                          "type": "number"
                        },
                        "max": {
                          "type": "number"
                        }
                      },
                      "required": ["min", "max"],
                      "additionalProperties": false
                    },
                    "deck_size_select": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      ]
                    },
                    "error": {
                      "type": "string"
                    },
                    "faction_select": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "faction": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "id": {
                      "type": "string"
                    },
                    "level": {
                      "type": "object",
                      "properties": {
                        "min": {
                          "type": "number"
                        },
                        "max": {
                          "type": "number"
                        }
                      },
                      "required": ["min", "max"],
                      "additionalProperties": false
                    },
                    "limit": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "not": {
                      "type": "boolean"
                    },
                    "option_select": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "level": {
                            "type": "object",
                            "properties": {
                              "min": {
                                "type": "number"
                              },
                              "max": {
                                "type": "number"
                              }
                            },
                            "required": ["min", "max"],
                            "additionalProperties": false
                          },
                          "name": {
                            "type": "string"
                          },
                          "size": {
                            "type": "number"
                          },
                          "trait": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "type": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": ["id", "level", "name"],
                        "additionalProperties": false
                      }
                    },
                    "permanent": {
                      "type": "boolean"
                    },
                    "slot": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "tag": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "text_exact": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "text": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "trait": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "type": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "uses": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "virtual": {
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "side_deck_requirements": {
                "type": "string"
              },
              "skill_agility": {
                "type": "number"
              },
              "skill_combat": {
                "type": "number"
              },
              "skill_intellect": {
                "type": "number"
              },
              "skill_wild": {
                "type": "number"
              },
              "skill_willpower": {
                "type": "number"
              },
              "slot": {
                "type": "string"
              },
              "stage": {
                "type": "number"
              },
              "subname": {
                "type": "string"
              },
              "subtype_code": {
                "type": "string",
                "enum": ["basicweakness", "weakness"]
              },
              "tags": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "traits": {
                "type": "string"
              },
              "type_code": {
                "type": "string",
                "enum": [
                  "investigator",
                  "asset",
                  "event",
                  "skill",
                  "location",
                  "enemy",
                  "enemy_location",
                  "key",
                  "treachery",
                  "scenario",
                  "act",
                  "agenda",
                  "story"
                ]
              },
              "vengeance": {
                "type": "number"
              },
              "victory": {
                "type": "number"
              },
              "xp": {
                "type": "number"
              },
              "attachments": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Code of the card that this attachment is based on. For example '05002' for Joe Diamond."
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "attribute": {
                          "type": "string"
                        },
                        "value": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "operator": {
                          "type": "string",
                          "enum": ["=", "!="]
                        }
                      },
                      "required": ["attribute", "value"],
                      "additionalProperties": false
                    },
                    "description": "List of filters that describe which cards can be attached."
                  },
                  "name": {
                    "type": "string",
                    "description": "Name of this attachment. For example 'Hunch Deck'."
                  },
                  "icon": {
                    "type": "string",
                    "description": "Icon for this attachment. This can be one of two things: a URL to an image, or the name of an icon from the Lucide icon set. In the latter case, use the format 'lucide://<icon_name>'."
                  },
                  "limit": {
                    "description": "Maximum number of copies of a single card in this attachment.",
                    "type": "number"
                  },
                  "requiredCards": {
                    "type": "object",
                    "propertyNames": {
                      "type": "string"
                    },
                    "additionalProperties": {
                      "type": "number"
                    },
                    "description": "Cards that are required to be in the deck for this attachment to be valid."
                  },
                  "targetSize": {
                    "type": "number",
                    "description": "Number of cards that can be attached to this card."
                  },
                  "traits": {
                    "description": "List of traits that this attachment has.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": ["code", "filters", "name", "icon", "targetSize"],
                "additionalProperties": false,
                "description": "Attachments describe decks of cards that are attached to other cards. Examples: Joe Diamond's Hunch Deck, Bewitching, Stick to the Plan."
              },
              "back_image_url": {
                "type": "string",
                "format": "uri"
              },
              "back_thumbnail_url": {
                "type": "string",
                "format": "uri"
              },
              "card_pool_extension": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["card"]
                  }
                },
                "required": ["type"],
                "additionalProperties": false
              },
              "image_url": {
                "type": "string",
                "format": "uri"
              },
              "thumbnail_url": {
                "type": "string",
                "format": "uri"
              }
            },
            "required": [
              "code",
              "faction_code",
              "name",
              "pack_code",
              "position",
              "quantity",
              "type_code"
            ],
            "additionalProperties": false
          }
        },
        "encounter_sets": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "icon_url": {
                "type": "string",
                "format": "uri"
              }
            },
            "required": ["code", "name"],
            "additionalProperties": false
          }
        },
        "packs": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "icon_url": {
                "type": "string",
                "format": "uri"
              },
              "name": {
                "type": "string"
              },
              "position": {
                "type": "number"
              }
            },
            "required": ["code", "name"],
            "additionalProperties": false
          }
        }
      },
      "required": ["cards", "encounter_sets", "packs"],
      "additionalProperties": false
    }
  },
  "required": ["meta", "data"],
  "additionalProperties": false
}
